<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
   
	<!-- Event Configurations
	  This section contains data describing the types of events this workspace cares about.

	  name - The name of the event. When an event arrives it is placed the blackboard with this
		     as the identifier.

	  eventClass -  The Java type representing this event.  It can be an interface, abstract, or
			concrete class.

	  workspaceIdentifierName - This is a Java object that uniquely identifies this workspace. It
			is typically a String, but it can be any object. Care must be taken to make sure that
			the hashcode and equals methods of these objects behave according to the expectations
		    of a java.util.HashMap.

			Examples of a workspaceIdentifierNames include a stock symbol, an order id, or a customer id.
   -->
   
	<bean id="CocoTheMonkey.monkey" class="com.georgetownsoftware.blackboard.config.EventConfiguration" singleton="true">
		<property name="name"><value>monkey</value></property>
		<property name="eventClass"><value>com.georgetownsoftware.blackboard.examples.cocothemonkey.Monkey</value></property>
		<property name="workspaceIdentifierName"><value>name</value></property>
	</bean>

	<bean id="CocoTheMonkey.fruit" class="com.georgetownsoftware.blackboard.config.EventConfiguration" singleton="true">
		<property name="name"><value>fruit</value></property>
		<property name="eventClass"><value>com.georgetownsoftware.blackboard.examples.cocothemonkey.Fruit</value></property>
		<property name="workspaceIdentifierName"><value>fruitFor</value></property>
	</bean>

	<bean id="CocoTheMonkey.eagle" class="com.georgetownsoftware.blackboard.config.EventConfiguration" singleton="true">
		<property name="name"><value>eagle</value></property>
		<property name="eventClass"><value>com.georgetownsoftware.blackboard.examples.cocothemonkey.Eagle</value></property>
		<property name="workspaceIdentifierName"><value>lookingFor</value></property>
	</bean>

	<bean id="CocoTheMonkey.hunter" class="com.georgetownsoftware.blackboard.config.EventConfiguration" singleton="true">
		<property name="name"><value>hunter</value></property>
		<property name="eventClass"><value>com.georgetownsoftware.blackboard.examples.cocothemonkey.Hunter</value></property>
		<property name="workspaceIdentifierName"><value>inForestOf</value></property>
	</bean>

	<!-- Plans
	   These are the plans that will be added to the workspace whenever it is instantiated. Plans
	   are to be stateless. All state generated by a plan is to be stored on the workspace.

	   planName - The name of this plan. Used for debugging only.
	-->
	
	<bean id="CocoTheMonkey.playPlan" class="com.georgetownsoftware.blackboard.examples.cocothemonkey.Play" singleton="true">
		<property name="planName"><value>play</value></property>
	</bean>

	<bean id="CocoTheMonkey.sleepPlan" class="com.georgetownsoftware.blackboard.examples.cocothemonkey.Sleep" singleton="true">
		<property name="planName"><value>sleep</value></property>
	</bean>

	<bean id="CocoTheMonkey.eatPlan" class="com.georgetownsoftware.blackboard.examples.cocothemonkey.Eat" singleton="true">
		<property name="planName"><value>eat</value></property>
	</bean>

	<bean id="CocoTheMonkey.huntPlan" class="com.georgetownsoftware.blackboard.examples.cocothemonkey.Hunt" singleton="true">
		<property name="planName"><value>hunt</value></property>
	</bean>

	<!--  This is where the workspace is defined -->
	<bean id="CocoTheMonkey" class="com.georgetownsoftware.blackboard.config.WorkspaceConfiguration" singleton="true">

	   <!-- The name of this workspace -->
	   <property name="name"><value>CocoTheMonkey</value></property>

		<!-- This defines the set of events that will cause this workspace to be instantiated.
			 Whenever one of these events arrives on the blackboard, the blackboard looks for an
		     workspace identified by the event's workspace identifier.  If that workspace does not
		     exist the blackboard will create a new one.  The event is then added to the workspace.
		-->
		
		<property name="eventConfigurationSet">
			<set>
				<ref bean="CocoTheMonkey.monkey"/>
				<ref bean="CocoTheMonkey.fruit"/>
				<ref bean="CocoTheMonkey.eagle"/>
				<ref bean="CocoTheMonkey.hunter"/>
			</set>
		</property>

		<!--
			 Represents the set of plans that will be assigned to the workspace defined by this
		     configuration.  Plans are expected to be singletons and should NOT preserve state.
		-->
		<property name="planSet">
			<set>
				<ref bean="CocoTheMonkey.sleepPlan"/>
				<ref bean="CocoTheMonkey.playPlan"/>
				<ref bean="CocoTheMonkey.eatPlan"/>
				<ref bean="CocoTheMonkey.huntPlan"/>
			</set>
		</property>
		
		<!--
			 This represents the set of targets that should not be persisted when a
			 workspace is retired.  These targets will be persisted during any intermediary
		     persistence due to a need to maintain blackboard state.
		-->
		<property name="doNotPersistSet">
			<set>
			</set>
		</property>

		<!--
			 Determines whether or not the change information that is collected for each target
		     on the workspace will be persisted whenever the workspace is persisted.  This means
		     that even during persistence to maintain blackboard state change information will
			 NOT be persisted.
		-->
		<property name="persistChangeInfoHistory"><value>false</value></property>

		<!-- If the workspace receives no events and no plans are executed in the specified
			 timeout period then this workspace will be retired.  Set this value to 0 to never
		     have the workspace timeout.
		-->
		<property name="workspaceTimeoutInSeconds"><value>900</value></property>

	</bean>

</beans>